{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/SearchForm.js","components/Notification.js","services/phonebook.js","components/App.js","index.js"],"names":["Person","person","id","deletePerson","name","number","onClick","Persons","persons","map","PersonForm","props","handleAddPerson","handleNewName","newName","handleNewNumber","newNumber","onSubmit","required","type","value","onChange","SearchForm","searchValue","handleSearchValue","Notification","message","className","baseUrl","axios","get","then","response","data","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","notification","setNotification","notificationType","setNotificationType","setSearchValue","useEffect","phoneService","allPersons","createMessage","setTimeout","filteredNames","filter","toLowerCase","includes","trim","e","target","preventDefault","newPerson","window","confirm","returnedPerson","catch","error","concat","personName","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2653cdc1.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ({ person, id, deletePerson }) => {\n\treturn (\n\t\t<p><strong>{person.name}:</strong> {person.number} &nbsp;&nbsp;\n\t\t\t<button onClick={() => deletePerson(id)}>Delete</button></p>\n\t);\n}\n \nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, deletePerson }) => {\n\treturn (\n\t\tpersons.map(person => {\n\t\t\treturn <Person key={person.name} person={person} id={person.id} deletePerson={deletePerson}/>\n\t\t  })\n\t);\n}\n \nexport default Persons;","import React from 'react';\n\nconst PersonForm = (props) => {\n  const {handleAddPerson, handleNewName, newName, handleNewNumber, newNumber} = props;\n\treturn (\n\t\t<form onSubmit={handleAddPerson}>\n        <div>\n          name: \n            <input required\n              type=\"text\"\n              value={newName}\n              onChange={handleNewName}/>\n        </div>\n        <div>\n          number: \n            <input required\n              type=\"text\"\n              value={newNumber}\n              onChange={handleNewNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n\t);\n}\n \nexport default PersonForm;","import React from 'react';\n\nconst SearchForm = (props) => {\n\tconst {searchValue, handleSearchValue} = props;\n\treturn (\n\t\t<div>filter shown with: \n        <input \n          type=\"text\" \n          value={searchValue}\n          onChange={handleSearchValue}\n          />\n\t</div>\n\t);\n}\n \nexport default SearchForm;","import React from 'react';\n\nconst Notification = ({ message, type }) => {\n\tif (message === null) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={type === \"error\" ? \"notification error\" : \"notification\"}>\n\t\t\t{message}\n\t\t</div>\n\t);\n}\n \nexport default Notification;","import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then(response => response.data);\n}\n\nconst create = (person) => {\n\tconst request = axios.post(baseUrl, person);\n\treturn request.then(response => response.data);\n}\n\nconst read = (id) => {\n\tconst request = axios.get(`${baseUrl}/${id}`);\n\treturn request.then(response => response.data);\n}\n\nconst update = (id, person) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, person);\n\treturn request.then(response => response.data);\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then(response => response.data);\n}\n\nexport default { getAll, read, create, update, remove }","import React, { useState, useEffect } from 'react';\nimport Persons from './Persons';\nimport PersonForm from './PersonForm';\nimport SearchForm from './SearchForm';\nimport Notification from './Notification';\nimport phoneService from '../services/phonebook';\nimport '../style.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setNotification] = useState(null);\n  const [notificationType, setNotificationType] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(allPersons => {\n        setPersons(allPersons);\n      })\n  }, [])\n\n  const createMessage = (message, type) => {\n    setNotification(message);\n    setNotificationType(type);\n    setTimeout(() => {\n      setNotification(null);\n      setNotificationType(null);\n    }, 3500);\n  }\n\n  const handleNewName = function (e) {\n    setNewName(e.target.value);\n  }\n\n  const handleNewNumber = function (e) {\n    setNewNumber(e.target.value);\n  }\n\n  const handleAddPerson = function (e) {\n    e.preventDefault();\n\n    const name = newName.trim();\n    const number = newNumber.trim();\n    const newPerson = { name, number }\n\n    // Check if person already exists\n    if (persons.map(person => person.name).includes(name)) {\n      if (window.confirm(`${name} is already added to the phonebook. Replace the existing number with a new one?`)) {\n        const id = persons.filter(person => person.name === name)[0].id;\n        phoneService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id != id ? person : returnedPerson));\n            setNewName('');\n            setNewNumber('');\n            createMessage(`${name}'s phone number was updated!`, \"success\");\n          })\n          .catch(error => {\n            setPersons(persons.filter(person => person.id !== id));\n            createMessage(`${name} was already deleted from the database.`, \"error\");\n            setNewName('');\n            setNewNumber('');\n          })\n      }\n    } else {  \n      phoneService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName('');\n          setNewNumber('');\n          createMessage(`${name}'s phone number was added!`, \"success\");\n        })\n    }\n\n  }\n\n  const deletePerson = (id) => {\n    const personName = persons.find(person => person.id === id).name;\n    if (window.confirm(`Delete ${personName}?`)) {\n      phoneService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        createMessage(`${personName} was delete!`, \"error\");\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => person.id !== id))\n        createMessage(`${personName} was already deleted from the database.`, \"error\");\n      })\n    }\n  }\n\n  const handleSearchValue = function (e) {\n    setSearchValue(e.target.value);\n  }\n\n  const filteredNames = persons.filter(person => {\n    return person.name.toLowerCase().includes(searchValue.trim().toLowerCase());\n  })\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification} type={notificationType}/>\n      <h2>Search</h2>\n      <SearchForm\n        searchValue={searchValue}\n        handleSearchValue={handleSearchValue}\n      />\n      <h2>Add a new number</h2>\n      <PersonForm\n        handleAddPerson={handleAddPerson}\n        handleNewName={handleNewName}\n        newName={newName}\n        handleNewNumber={handleNewNumber}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredNames} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}